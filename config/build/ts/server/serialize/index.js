import * as serializeJavascript from "serialize-javascript";
function serializeElement(element) {
    if (element instanceof Map) {
        return "new Map(" + JSON.stringify(Array.from(element.entries())) + ")";
    }
    else if (element instanceof Array) {
        return serializeJavascript(element);
    }
    else if (element instanceof Set) {
        return serializeJavascript(element);
    }
    else if (element === null) {
        return serializeJavascript(element);
    }
    else if (typeof element === "object") {
        return serialize(element);
    }
    else {
        return serializeJavascript(element);
    }
}
export default function serialize(state) {
    let serializedState = "{";
    Object.keys(state).forEach((key, index) => {
        if (index > 0) {
            serializedState += ",";
        }
        serializedState += "\"" + key + "\": " + serializeElement(state[key]);
    });
    return serializedState + "}";
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zZXJ2ZXIvc2VyaWFsaXplL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxtQkFBbUIsTUFBTSxzQkFBc0IsQ0FBQztBQUU1RCwwQkFBMEIsT0FBWTtJQUNsQyxFQUFFLENBQUMsQ0FBQyxPQUFPLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBRSxPQUF5QixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDL0YsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNoQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQixNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLE9BQU8sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7QUFDTCxDQUFDO0FBRUQsTUFBTSxDQUFDLE9BQU8sb0JBQW9CLEtBQVU7SUFDeEMsSUFBSSxlQUFlLEdBQVcsR0FBRyxDQUFDO0lBRWxDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBVyxFQUFFLEtBQWEsRUFBRSxFQUFFO1FBQ3RELEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osZUFBZSxJQUFJLEdBQUcsQ0FBQztRQUMzQixDQUFDO1FBRUQsZUFBZSxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzFFLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLGVBQWUsR0FBRyxHQUFHLENBQUM7QUFDakMsQ0FBQyJ9